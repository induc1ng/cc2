<!DOCTYPE html>
<html>
<head>

<script type="text/javascript">
var ctx = null;

var book = new Array();
var tile = new Array();

var image = new Array();
image[0] = new Image(40,40);
image[1] = new Image(40,40);
var gameMap = new Array()

tile[0] = {
    path:"https://s3.envato.com/files/50956159/Ice%201%20prw.jpg", name:'grass', type: 'floresta'};
image[0].src = tile[0].path;
tile[1] = {
path:"https://i.pinimg.com/236x/65/9f/50/659f50ca5c1b890a4393a0a9fc8d0199.jpg", name:'grass', type: 'floresta'};
image[1].src = tile[1].path;

gameMap[0]=[1 0 1 1 1 1 0 0 0 0 0 1 0 0 1 0 0 0 1 1 0 1 0 0 0 11 0 0 0 1 1 0 1 0 0 1
 1 1 1 0 1 1 1 1 0 0 0 1 0 1 0 1 0 0 1 0 1 1 0 0 0 0 0 1 1 0 1 0 0 1 0 1 1
 1 1 1 0 0 0 0 0 1 0 0 1 1 0 1 1 0 0 1 0 0 1 0 0 0 0 1 0 0 0 1 1 0 0 1 0 1
 0 0 1 1 0 0 0 1 1 1 0 1 1 0 1 1 0 1 1 1 1 0 1 0 1 0 0 0 1 0 0 0 1 1 0 1 0
 1 0 0 1 1 1 1 0 1 1 0 1 0 1 0 1 1 1 0 0 0 1 1 0 0 0 1 0 1 1 1 0 1 1 1 0 1
 1 0 1 1 1 1 0 0 1 1 0 0 1 0 0 1 0 1 0 0 0 0 1 1 0 0 0 0 0 0 0 0 1 0 0 1 1
 0 1 0 0 0 0 1 1 0 1 0 1 0 1 1 1 0 1 0 1 1 1 0 1 0 0 1 0 0 1 1 0 1 0 0 0 1
 1 1 1 1 0 0 0 1 0 0 0 0 0 1 0 0 1 0 0 1 0 1 1 1 1 1 1 1 0 0 0 0 1 0 0 0 0
 0 0 0 1 1 0 1 1 1 0 1 1 0 1 0 1 0 1 0 0 0 0 0 1 1 0 0 1 1 0 1 0 1 1 0 1 1
 0 1 0 1 0 1 1 0 0 1 0 1 1 1 1 1 0 1 0 1 0 1 0 0 1 1 1 1 0 1 0 0 1 1 1 0 0
 1 0 0 0 0 0 1 1 1 1 1 1 1 0 0 1 1 0 0 0 1 0 0 1 0 1 1 1 1 1];
 gameMap[1]=[0 1 0 1 1 0 0 1 1 0 1 1 0 0 1 1 1 0 1 0 1 1 1 0 0 0 1 0 0 1 0 0 1 0 0 0 1
 1 1 0 1 1 0 0 0 1 1 0 0 0 0 0 1 0 1 0 0 0 1 1 0 0 1 1 0 0 1 0 1 0 0 0 0 0
 0 1 1 1 0 1 1 1 1 1 1 0 1 0 0 0 1 0 1 0 0 1 1 1 1 1 1 1 0 1 1 0 1 0 0 0 1
 1 0 1 0 1 0 0 0 1 0 0 0 1 1 0 1 0 0 1 0 0 0 0 1 1 1 0 0 0 0 1 1 0 0 0 0 1
 0 1 0 1 0 1 0 1 1 1 1 1 1 0 1 1 0 1 0 1 1 0 0 0 0 1 0 0 1 0 0 1 0 0 1 0 0
 1 0 0 1 0 1 1 0 0 0 0 0 1 0 1 1 0 0 1 1 0 0 1 0 0 1 0 0 0 0 0 0 0 1 0 1 1
 1 1 0 1 1 1 1 0 1 1 0 1 1 0 0 1 1 1 1 0 0 1 0 0 1 0 1 0 1 0 1 1 1 0 1 0 1
 1 1 0 0 1 0 0 0 1 0 1 1 1 0 1 1 1 1 1 1 1 0 1 0 1 1 0 1 0 0 1 1 1 1 1 0 1
 0 1 0 1 1 1 0 0 0 0 1 1 1 1 0 0 0 0 1 0 0 1 0 0 1 1 0 0 0 1 0 0 0 1 1 0 1
 0 0 0 0 1 0 0 0 1 1 0 0 1 1 0 1 1 0 1 0 0 1 0 1 1 1 1 0 1 1 1 0 1 0 0 1 1
 0 1 0 0 0 0 1 1 0 0 0 0 0 1 1 0 1 1 1 1 1 1 1 0 0 1 1 0 0 1];
 gameMap[2]=[1 1 1 1 0 0 1 0 1 1 0 0 1 1 0 0 0 1 1 0 0 0 0 1 0 0 0 1 1 0 1 0 0 1 1 1 0
 1 0 1 1 0 0 0 0 0 1 0 0 0 1 0 1 0 1 1 1 0 0 0 1 0 0 0 1 0 1 1 1 1 1 1 1 1
 0 0 0 1 1 0 1 1 0 1 1 1 1 0 1 0 1 1 1 1 1 0 0 1 0 1 1 0 1 1 0 1 0 1 1 0 1
 0 1 1 0 1 0 1 1 1 0 0 1 1 1 1 0 1 1 0 1 0 0 1 1 0 1 0 0 1 1 1 0 1 1 1 1 1
 0 0 1 0 0 0 0 0 1 1 0 0 1 1 1 1 1 0 0 0 1 0 0 1 1 0 1 0 1 0 1 0 0 1 0 0 1
 0 1 0 1 0 1 0 1 1 1 1 1 0 0 1 1 1 1 0 1 0 1 0 1 0 1 1 1 1 0 1 0 0 1 0 0 1
 0 1 0 0 1 1 0 1 1 0 0 0 1 0 0 1 0 0 1 0 1 0 0 1 0 0 0 1 1 0 1 0 0 1 0 0 1
 0 1 0 0 1 1 0 1 0 0 0 1 0 0 1 0 1 0 1 0 0 1 0 0 0 1 1 0 1 0 1 1 1 0 0 1 1
 1 0 0 0 0 1 1 0 1 0 1 0 0 1 0 1 0 0 0 0 0 0 1 1 1 0 1 1 1 1 1 1 0 0 0 0 0
 1 1 1 0 0 1 0 1 1 1 1 1 1 0 1 0 1 0 0 1 1 0 0 0 1 0 1 1 0 0 1 0 0 0 0 1 1
 0 0 1 0 0 1 0 0 0 1 0 0 0 0 1 1 0 1 1 0 0 1 0 0 0 1 0 1 0 1];


var tileW = 40, tileH = 40;
var mapW = 10, mapH = 10;
var currentSecond = 0, frameCount = 0, framesLastSecond = 0;

window.onload = function()
{
    drawMap(0);

};

function drawMap(map){
    map = parseInt(map,10);
    ctx = document.getElementById('game').getContext("2d");
    ctx.font = "bold 10pt sans-serif";
	requestAnimationFrame(drawGame(map));
}

function drawGame(map)
{
    console.log(map);

	if(ctx==null) { return; }

	var sec = Math.floor(Date.now()/1000);
	if(sec!=currentSecond)
	{
		currentSecond = sec;
		framesLastSecond = frameCount;
		frameCount = 1;
	}
	else { frameCount++; }

	for(var y = 0; y < mapH; ++y)
	{
		for(var x = 0; x < mapW; ++x)
		{
			switch(gameMap[map][((y*mapW)+x)])
			{
				case 0:
          ctx.drawImage(image[0],x*tileW,y*tileH);
					break;
				default:
					ctx.drawImage(image[1],x*tileW,y*tileH);
			}

		}
	}

	ctx.fillStyle = "#ff0000";
	ctx.fillText("-: " + framesLastSecond, 10, 20);

	requestAnimationFrame(drawGame);
}
</script>

</head>
<body>

<select onchange="drawMap(value)">
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
</select>

<canvas id="game" width="400" height="400"></canvas>

</body>
</html>
